{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{\"299\":function(e,n,t){e.exports={\"invite_box\":\"invitecode-module__invite_box___Gec8H\",\"invite_code\":\"invitecode-module__invite_code___2qn7Q\",\"info_box\":\"invitecode-module__info_box___3jcAs\",\"info_insert_code\":\"invitecode-module__info_insert_code___1dIBv\",\"btn_bind\":\"invitecode-module__btn_bind___1B_U4\",\"btn_gray\":\"invitecode-module__btn_gray___2iRqh\",\"shopimg\":\"invitecode-module__shopimg___38RsA\",\"invite\":\"invitecode-module__invite___1L6C_\",\"invite_img\":\"invitecode-module__invite_img___3xZXu\",\"invite_info\":\"invitecode-module__invite_info___1VWuA\",\"invite_show_code\":\"invitecode-module__invite_show_code___3xSVF\",\"go\":\"invitecode-module__go___VPYHM\",\"btn_bind1\":\"invitecode-module__btn_bind1___XyWLE\",\"info_insert\":\"invitecode-module__info_insert___Ldh4f\",\"photo_icon\":\"invitecode-module__photo_icon___17z9T\",\"mes\":\"invitecode-module__mes___2_05H\"}},\"47\":function(e,n,t){\"use strict\";t.r(n);var o,i=t(1),a=t(3),r=t(10),c=t(342),u=t(343),s=t(92),l=t(347),p=t(77),d=t(8),f=t(9),_=t(0),m=t(299),h=t.n(m),v=function(){function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();var b=Object(p.a)(o=function(e){function Invitecode(e){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,Invitecode);var n=function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}(this,(Invitecode.__proto__||Object.getPrototypeOf(Invitecode)).call(this,e));return n.bind=function(e){var t=e.type,o=void 0===t?2:t,i=n.state.mark,r=n.$router.params.phone||\"\",c=i;if(!c||\"undefined\"===c)return _.message.error(\"请填写邀请码\"),!1;d.a.login.bindCompanyShop({\"invitationCode\":2===o?c:\"\"}).then(function(e){e&&a.a.navigateTo({\"url\":\"/pages/enter/enter?phone=\"+r})})},n.goindex=function(){a.a.navigateTo({\"url\":\"/pages/stockmarket/stockmarket\"})},n.getCode=function(e){n.setState({\"mark\":e.detail.value,\"canBind\":!1,\"shopinfo\":{}}),e.detail.value?n.getInviterInfo(e.detail.value):n.setState({\"canBind\":!0})},n.getInviterInfo=function(e){d.a.login.getInviterInfo({\"invitationCode\":e}).then(function(e){e?n.setState({\"shopinfo\":e,\"canBind\":!0}):n.setState({\"shopinfo\":{},\"canBind\":!1})})},n.loginOut=function(){var e=n.props.globalStore;d.a.login.logout().then(function(n){n&&(Object(r.d)(\"userInfo\"),_.$ajax.uninjectHeaders(),_.$ajax.injectHeaders(Object(d.b)(!0)),e.setData(\"userInfo\",{}),f.b.bridge.callhandler(\"exit\",{}),Object(f.i)({\"desc\":\"[system] file:enter.jsx line:175\"}))})},n.config={\"navigationBarTitleText\":\"康小铺邀请码\"},n.state={\"mark\":\"\",\"canBind\":!0,\"shopinfo\":{}},n}return function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(Invitecode,a[\"a\"].Component),v(Invitecode,[{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this,n=decodeURIComponent(this.$router.params.mark)||\"\";n&&\"undefined\"!==n?this.setState({\"mark\":n},function(){return e.getInviterInfo(n)}):this.setState({\"canBind\":!0})}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this,n=this.state,t=n.shopinfo,o=n.canBind,a=n.mark;return i.j.createElement(c.a,null,i.j.createElement(c.a,{\"className\":h.a.invite_box},i.j.createElement(c.a,{\"className\":h.a.info_box},i.j.createElement(u.a,{\"className\":h.a.invite_code},\"填写邀请码（必填）\"),i.j.createElement(s.a,{\"className\":h.a.info_insert,\"onBlur\":this.getCode,\"value\":a})),i.j.createElement(c.a,{\"className\":h.a.mes},\"无邀请码时可联系平台获取，联系电话：0571-88670307\"),o&&a&&i.j.createElement(c.a,{\"className\":h.a.invite},t.icon&&i.j.createElement(c.a,{\"className\":h.a.invite_img},i.j.createElement(l.a,{\"src\":f.b.getFileUrl(t.icon),\"className\":h.a.shopimg})),!t.icon&&i.j.createElement(c.a,{\"className\":\"iconfont \"+h.a.photo_icon},\"\"),i.j.createElement(c.a,{\"className\":h.a.invite_info},i.j.createElement(c.a,null,t.inviterName),i.j.createElement(c.a,{\"className\":h.a.invite_show_code},\"邀请码：\",t.invitationCode))),o&&i.j.createElement(c.a,{\"className\":h.a.btn_bind,\"onClick\":function onClick(){return e.bind({})}},\"立即绑定\"),!o&&i.j.createElement(c.a,{\"className\":h.a.btn_bind+\" \"+h.a.btn_gray},\"立即绑定\"),i.j.createElement(c.a,{\"className\":h.a.go,\"onClick\":this.loginOut},\"退出\")))}}]),Invitecode}())||o;n.default=b},\"77\":function(e,n,t){\"use strict\";var o=t(1),i=t(3),a=t(342),r=t(81),c=t(14),u=t(9),s=t(78),l=t.n(s),p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},d=function(){function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();n.a=function withPage(e){var n=new e({}),t=function(t){function App(e){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,App);var t=function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,e));return t.onBack=function(){i.a.navigateBack()},t.updateShareConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.props.globalStore,o=globalThis.document.URL,i=(n.data.userInfo||{}).invitationCode||\"\",a=u.a.getURLSearchParams({\"mark\":i});return e=Object.assign({},{\"title\":\"康小铺|京东健康战略合作伙伴\",\"desc\":\"加入康小铺，开启创业之旅\",\"link\":o.indexOf(\"?\")>0?o+\"&\"+a:o+\"?\"+a},e),u.a.updateApp({\"params\":e}),u.a.updateApp({\"type\":\"updateTimelineShareData\",\"params\":e}),e},t.scope=function(){return{\"updateShareConfig\":t.updateShareConfig}},t.config=Object.assign({},n.config),t.updateShareConfig(),t}return function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(App,i.a.Component),d(App,[{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){\"function\"==typeof this.withPage.componentDidShow&&this.withPage.componentDidShow(this)}},{\"key\":\"render\",\"value\":function render(){var t=this;return o.j.createElement(a.a,{\"className\":l.a.page_container,\"style\":{\"paddingTop\":0}},o.j.createElement(a.a,{\"className\":l.a.navigationBar,\"hidden\":!0},o.j.createElement(a.a,{\"className\":l.a.navigation_back,\"onClick\":this.onBack},\"返回\"),o.j.createElement(a.a,{\"className\":l.a.navigationBar_text},n.config.navigationBarTitleText),o.j.createElement(a.a,{\"hidden\":!r.Common.isType(n.renderNavigationRight,\"function\"),\"className\":l.a.navigation_right},r.Common.isType(n.renderNavigationRight,\"function\")&&n.renderNavigationRight())),o.j.createElement(e,p({\"ref\":function ref(e){e&&(e.logger=u.b.logger.bind(e),t.withPage=e)}},this.props,{\"withPageScope\":this.scope()})))}}]),App}();return Object(c.b)(\"globalStore\")(Object(c.c)(t))}},\"78\":function(e,n,t){e.exports={\"page_container\":\"index-module__page_container___3sM0-\",\"navigationBar\":\"index-module__navigationBar___fibys\",\"navigation_back\":\"index-module__navigation_back___2U0kZ\",\"navigationBar_text\":\"index-module__navigationBar_text___1fBn_\",\"navigation_right\":\"index-module__navigation_right___uhu-i\",\"back_icon\":\"index-module__back_icon___JzgRf\"}},\"84\":function(e,n,t){var o=t(85);\"string\"==typeof o&&(o=[[e.i,o,\"\"]]);var i={\"sourceMap\":!1,\"insertAt\":\"top\",\"hmr\":!0,\"transform\":void 0,\"insertInto\":void 0};t(88)(o,i);o.locals&&(e.exports=o.locals)},\"85\":function(e,n,t){(e.exports=t(87)(!1)).push([e.i,\"input {\\n  display: block;\\n  height: 24px;\\n  text-align: inherit;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\",\"\"])},\"92\":function(e,n,t){\"use strict\";t(86);var o=t(1),i=t(89),a=t(80),r=t.n(a),c=(t(84),Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}),u=function(){function defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();function getTrueType(e,n,t){if(!e)throw new Error(\"unexpected type\");return\"search\"===n&&(e=\"search\"),t&&(e=\"password\"),\"digit\"===e&&(e=\"number\"),e}var s=function(e){function Input(){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,Input);var e=function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(Input,o[\"j\"].Component),u(Input,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){\"file\"===this.props.type&&this.inputRef.addEventListener(\"change\",this.onInput)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){\"file\"===this.props.type&&this.inputRef.removeEventListener(\"change\",this.onInput)}},{\"key\":\"onInput\",\"value\":function onInput(e){var n=this.props,t=n.type,o=n.maxLength,i=n.confirmType,a=n.password,r=n.onInput,onInput=void 0===r?\"\":r,c=n.onChange,u=void 0===c?\"\":c;if(!this.isOnComposition&&!this.onInputExcuted){var s=e.target.value,l=getTrueType(t,i,a);if(this.onInputExcuted=!0,\"number\"===l&&s&&o<=s.length&&(s=s.substring(0,o),e.target.value=s),Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":s}}),!([\"number\",\"file\"].indexOf(l)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(u)return u(e);if(onInput)return onInput(e)}}},{\"key\":\"onFocus\",\"value\":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onFocus&&onFocus(e)}},{\"key\":\"onBlur\",\"value\":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onBlur&&onBlur(e)}},{\"key\":\"onKeyDown\",\"value\":function onKeyDown(e){var n=this.props,t=n.onConfirm,onKeyDown=n.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&t&&(Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),t(e))}},{\"key\":\"handleComposition\",\"value\":function handleComposition(e){e.target instanceof HTMLInputElement&&(\"compositionend\"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{\"key\":\"render\",\"value\":function render(){var e=this,n=this.props,t=n.className,a=void 0===t?\"\":t,u=n.placeholder,s=n.type,l=void 0===s?\"text\":s,p=n.password,d=n.disabled,f=n.maxLength,_=n.confirmType,m=void 0===_?\"\":_,h=n.focus,v=void 0!==h&&h,b=n.value,g=r()(\"weui-input\",a),y=Object(i.a)(this.props,[\"className\",\"placeholder\",\"disabled\",\"max\",\"onChange\",\"onFocus\",\"onBlur\",\"type\",\"focus\"]);return\"value\"in this.props&&(y.value=function fixControlledValue(e){return void 0===e||null===e?\"\":e}(b)),o.j.createElement(\"input\",c({\"ref\":function ref(n){e.inputRef=n}},y,{\"className\":g,\"placeholder\":u,\"disabled\":d,\"maxlength\":f,\"onInput\":this.onInput,\"onFocus\":this.onFocus,\"onBlur\":this.onBlur,\"autofocus\":v,\"onKeyDown\":this.onKeyDown,\"type\":getTrueType(l,m,p),\"onCompositionStart\":this.handleComposition,\"onCompositionEnd\":this.handleComposition}))}}]),Input}();s.defaultProps={\"type\":\"text\"},n.a=s}}]);","extractedComments":[]}