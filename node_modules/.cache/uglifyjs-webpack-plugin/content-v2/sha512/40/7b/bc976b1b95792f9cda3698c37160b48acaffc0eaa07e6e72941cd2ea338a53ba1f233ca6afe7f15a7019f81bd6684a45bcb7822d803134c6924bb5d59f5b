{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"291\":function(e,t,n){e.exports={\"header\":\"goods-price-module__header___1Jth4\",\"user_avatar\":\"goods-price-module__user_avatar___36PLx\",\"goods_title\":\"goods-price-module__goods_title___1sDdF\",\"buy_price\":\"goods-price-module__buy_price___3JeyE\",\"title\":\"goods-price-module__title___3Xv2-\",\"symbol\":\"goods-price-module__symbol___2KKQt\",\"price\":\"goods-price-module__price___3k543\",\"red\":\"goods-price-module__red___171_m\",\"body\":\"goods-price-module__body___8KEo4\",\"cell\":\"goods-price-module__cell___3wnY4\",\"cell_title\":\"goods-price-module__cell_title___1tE1q\",\"cell_value\":\"goods-price-module__cell_value___231DF\",\"grey_value\":\"goods-price-module__grey_value___2UH_b\",\"black_value\":\"goods-price-module__black_value___3QQdb\",\"cell_input\":\"goods-price-module__cell_input___2527X\",\"red_value\":\"goods-price-module__red_value___MWyw2\",\"footer\":\"goods-price-module__footer___3u0OQ\",\"triangle\":\"goods-price-module__triangle___1BsQa\",\"footer_cell\":\"goods-price-module__footer_cell___2kGPf\",\"extra_margin\":\"goods-price-module__extra_margin___3pk--\",\"extra_line_margin\":\"goods-price-module__extra_line_margin___gQFcr\",\"footer_extra\":\"goods-price-module__footer_extra___2Su3a\",\"save_btn\":\"goods-price-module__save_btn___ayXnS\",\"btn\":\"goods-price-module__btn___3Mqi4\",\"eve_money\":\"goods-price-module__eve_money___5V8gd\",\"select_style\":\"goods-price-module__select_style___RnTcU\",\"no_select_style\":\"goods-price-module__no_select_style___3orUu\"}},\"43\":function(e,t,n){\"use strict\";n.r(t);var a,o=n(1),r=n(10),i=n(3),l=n(342),c=n(347),s=n(343),u=n(92),p=n(77),_=n(8),d=n(9),m=n(291),f=n.n(m),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=Object(p.a)(a=function(e){function GoodsPrice(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,GoodsPrice);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(GoodsPrice.__proto__||Object.getPrototypeOf(GoodsPrice)).call(this,e));return t.getInfo=function(){var e=Object(r.c)(\"userInfo\").shopId;_.a.login.shopMemberDispose({\"shopId\":e}).then(function(e){if(e&&e.list&&e.list.length){var n=[].concat(function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.list)),a=n.filter(function(e){return 2==e.levelNum}).map(function(e){return e.commissionRate})||[],o=n.filter(function(e){return 3==e.levelNum}).map(function(e){return e.commissionRate})||[];t.setState({\"goldRate\":a.length?.01*a[0]:0,\"diamondRate\":o.length?.01*o[0]:0})}}),_.a.goods.goodsPriceDetail({\"itemId\":t.$router.params.itemId}).then(function(e){e&&(1===e.priceIncreaseType?t.setState({\"goodsPriceDetail\":e,\"originalPrice\":e.minTradePrice,\"minRetailPrice\":e.minRetailPrice,\"addPercent\":e.priceIncreaseAmount||\"\",\"selectType\":1}):t.setState({\"goodsPriceDetail\":e,\"originalPrice\":e.minTradePrice,\"minRetailPrice\":e.minRetailPrice,\"addPercent\":parseInt(100*e.priceIncreaseRate,10),\"selectType\":0}))})},t.getAddPercent=function(e){var n=t.state.selectType;e=\"\"+e.target.value,1==n?t.setState({\"addPercent\":e.indexOf(\".\")>0?e.slice(0,e.indexOf(\".\")+3):e}):0==n&&t.setState({\"addPercent\":parseInt(e,10)})},t.save=function(){var e=t.state,n=e.addPercent,a=e.selectType,o=n||0,r=1==a?\"priceIncreaseAmount\":\"priceIncreaseRate\",l=1==a?o:.01*o;_.a.goods.changeGoodsPrice(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{\"value\":n,\"enumerable\":!0,\"configurable\":!0,\"writable\":!0}):e[t]=n,e}({\"itemId\":parseInt(t.$router.params.itemId,10),\"feeRate\":0,\"priceIncreaseType\":a},r,l)).then(function(e){if(!e)return!1;d.b.bridge.callhandler(\"finish\"),i.a.redirectTo({\"url\":t.$router.params.herfType?\"/pages/goodsmange/goodsmange\":\"/pages/shopworker/shopworker?tabInner=2\"})})},t.click_item_mes=function(){t.setState({\"selectType\":1,\"addPercent\":\"\"})},t.click_other_style=function(){t.setState({\"selectType\":0,\"addPercent\":\"\"})},t.config={\"navigationBarTitleText\":\"商品价格\"},t.state={\"goodsPriceDetail\":null,\"addPercent\":\"\",\"originalPrice\":0,\"minRetailPrice\":0,\"selectType\":0,\"goldRate\":0,\"diamondRate\":0},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(GoodsPrice,i[\"a\"].Component),g(GoodsPrice,[{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getInfo()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this.state,t=e.goodsPriceDetail,n=e.addPercent,a=e.originalPrice,r=e.minRetailPrice,i=e.selectType,p=e.goldRate,_=e.diamondRate,m=a;1==i&&n?m=(parseFloat(a)+parseFloat(n)).toFixed(2):0==i&&n&&(m=parseFloat(a*(1+.01*n)).toFixed(2));var g=m-a&&p?((m-a)*p).toFixed(2):0,h=m-a&&_?((m-a)*_).toFixed(2):0,y=(m-a-2*h).toFixed(2),v=(m-a).toFixed(2);return t?o.j.createElement(l.a,{\"className\":f.a.container},o.j.createElement(l.a,{\"className\":f.a.header},o.j.createElement(c.a,{\"src\":d.b.getFileUrl(t.mainImgUrl),\"className\":f.a.user_avatar}),o.j.createElement(l.a,{\"className\":f.a.goods_title},t.itemTitle),o.j.createElement(l.a,{\"className\":f.a.buy_price},o.j.createElement(s.a,{\"className\":f.a.title},\"进货价：\"),o.j.createElement(s.a,{\"className\":f.a.symbol+\" \"+f.a.red},\"￥\"),o.j.createElement(s.a,{\"className\":f.a.price+\" \"+f.a.red},a)),o.j.createElement(l.a,{\"className\":f.a.buy_price},o.j.createElement(s.a,{\"className\":f.a.title},\"建议零售价：\"),o.j.createElement(s.a,{\"className\":f.a.symbol},\"￥\"),o.j.createElement(s.a,{\"className\":f.a.price},r))),o.j.createElement(l.a,{\"className\":f.a.body},o.j.createElement(l.a,{\"className\":f.a.cell+\" last\"},o.j.createElement(s.a,{\"className\":f.a.cell_title},\"上架到\"),o.j.createElement(s.a,{\"className\":f.a.cell_title},\"今日爆品\")),o.j.createElement(l.a,{\"className\":\"\"+f.a.cell},o.j.createElement(s.a,{\"className\":f.a.cell_title},\"加价\"),o.j.createElement(l.a,{\"className\":f.a.cell_value},o.j.createElement(l.a,{\"className\":f.a.eve_money,\"onClick\":this.click_item_mes},o.j.createElement(l.a,{\"className\":\"iconfont \"+(1==i?\"iconfuxuankuang_xuanzhong\":\"iconfuxuankuang_weixuanzhong\")+\" \\n                      \"+(1==i?f.a.select_style:f.a.no_select_style)}),o.j.createElement(l.a,null,\"固定金额\")),o.j.createElement(l.a,{\"className\":f.a.eve_money,\"style\":{\"marginLeft\":\"10px\"},\"onClick\":this.click_other_style},o.j.createElement(l.a,{\"className\":\"iconfont \"+(0===i?\"iconfuxuankuang_xuanzhong\":\"iconfuxuankuang_weixuanzhong\")+\"\\n                    \"+(0===i?f.a.select_style:f.a.no_select_style)}),o.j.createElement(l.a,null,\"百分比\")))),o.j.createElement(l.a,{\"className\":f.a.cell+\" last\"},o.j.createElement(s.a,{\"className\":f.a.cell_title}),o.j.createElement(l.a,{\"className\":f.a.cell_value},o.j.createElement(u.a,{\"className\":f.a.grey_value+\" \"+f.a.cell_input+\" \"+(n?f.a.black_value:\"\"),\"value\":n||\"\",\"type\":\"number\",\"name\":\"addpercent\",\"placeholder\":\"0\",\"onChange\":this.getAddPercent}),o.j.createElement(s.a,{\"className\":f.a.grey_value+\" \"+(n?f.a.black_value:\"\")},1==i?\"元\":\"%\"))),o.j.createElement(l.a,{\"className\":\"\"+f.a.cell},o.j.createElement(s.a,{\"className\":f.a.cell_title},\"售价\"),o.j.createElement(l.a,null,o.j.createElement(s.a,{\"className\":f.a.red_value},\"￥\"),o.j.createElement(s.a,{\"className\":f.a.red_value},m)))),o.j.createElement(l.a,{\"className\":f.a.footer},o.j.createElement(l.a,{\"className\":f.a.triangle}),o.j.createElement(l.a,{\"className\":f.a.footer_cell+\" \"+f.a.extra_margin},o.j.createElement(s.a,null,\"店铺预计收益\"),y===v?o.j.createElement(s.a,null,\"￥\",y):o.j.createElement(s.a,null,\"￥\",y,\" ~ ￥\",v)),o.j.createElement(l.a,{\"className\":f.a.footer_cell+\" \"+f.a.extra_margin},o.j.createElement(s.a,null,\"黄金自购/分享成单返佣\"),o.j.createElement(s.a,null,\"￥\",g)),o.j.createElement(l.a,{\"className\":f.a.footer_cell+\" \"+f.a.extra_margin},o.j.createElement(s.a,null,\"钻石自购/分享成单返佣\"),o.j.createElement(s.a,null,\"￥\",h)),o.j.createElement(l.a,{\"className\":f.a.footer_extra},o.j.createElement(s.a,{\"className\":\"iconfont iconiconfontxiaogantanhao\"},\"会员分享返佣未分配完时会返还给店主\"))),o.j.createElement(l.a,{\"className\":f.a.save_btn,\"onClick\":this.save},o.j.createElement(l.a,{\"className\":f.a.btn},\"确定\"))):null}}]),GoodsPrice}())||a;t.default=h},\"77\":function(e,t,n){\"use strict\";var a=n(1),o=n(3),r=n(342),i=n(81),l=n(14),c=n(9),s=n(78),u=n.n(s),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();t.a=function withPage(e){var t=new e({}),n=function(n){function App(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,App);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,e));return n.onBack=function(){o.a.navigateBack()},n.updateShareConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.globalStore,a=globalThis.document.URL,o=(t.data.userInfo||{}).invitationCode||\"\",r=c.a.getURLSearchParams({\"mark\":o});return e=Object.assign({},{\"title\":\"康小铺|京东健康战略合作伙伴\",\"desc\":\"加入康小铺，开启创业之旅\",\"link\":a.indexOf(\"?\")>0?a+\"&\"+r:a+\"?\"+r},e),c.a.updateApp({\"params\":e}),c.a.updateApp({\"type\":\"updateTimelineShareData\",\"params\":e}),e},n.scope=function(){return{\"updateShareConfig\":n.updateShareConfig}},n.config=Object.assign({},t.config),n.updateShareConfig(),n}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(App,o.a.Component),_(App,[{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){\"function\"==typeof this.withPage.componentDidShow&&this.withPage.componentDidShow(this)}},{\"key\":\"render\",\"value\":function render(){var n=this;return a.j.createElement(r.a,{\"className\":u.a.page_container,\"style\":{\"paddingTop\":0}},a.j.createElement(r.a,{\"className\":u.a.navigationBar,\"hidden\":!0},a.j.createElement(r.a,{\"className\":u.a.navigation_back,\"onClick\":this.onBack},\"返回\"),a.j.createElement(r.a,{\"className\":u.a.navigationBar_text},t.config.navigationBarTitleText),a.j.createElement(r.a,{\"hidden\":!i.Common.isType(t.renderNavigationRight,\"function\"),\"className\":u.a.navigation_right},i.Common.isType(t.renderNavigationRight,\"function\")&&t.renderNavigationRight())),a.j.createElement(e,p({\"ref\":function ref(e){e&&(e.logger=c.b.logger.bind(e),n.withPage=e)}},this.props,{\"withPageScope\":this.scope()})))}}]),App}();return Object(l.b)(\"globalStore\")(Object(l.c)(n))}},\"78\":function(e,t,n){e.exports={\"page_container\":\"index-module__page_container___3sM0-\",\"navigationBar\":\"index-module__navigationBar___fibys\",\"navigation_back\":\"index-module__navigation_back___2U0kZ\",\"navigationBar_text\":\"index-module__navigationBar_text___1fBn_\",\"navigation_right\":\"index-module__navigation_right___uhu-i\",\"back_icon\":\"index-module__back_icon___JzgRf\"}},\"84\":function(e,t,n){var a=n(85);\"string\"==typeof a&&(a=[[e.i,a,\"\"]]);var o={\"sourceMap\":!1,\"insertAt\":\"top\",\"hmr\":!0,\"transform\":void 0,\"insertInto\":void 0};n(88)(a,o);a.locals&&(e.exports=a.locals)},\"85\":function(e,t,n){(e.exports=n(87)(!1)).push([e.i,\"input {\\n  display: block;\\n  height: 24px;\\n  text-align: inherit;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\",\"\"])},\"92\":function(e,t,n){\"use strict\";n(86);var a=n(1),o=n(89),r=n(80),i=n.n(r),l=(n(84),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error(\"unexpected type\");return\"search\"===t&&(e=\"search\"),n&&(e=\"password\"),\"digit\"===e&&(e=\"number\"),e}var s=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,a[\"j\"].Component),c(Input,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){\"file\"===this.props.type&&this.inputRef.addEventListener(\"change\",this.onInput)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){\"file\"===this.props.type&&this.inputRef.removeEventListener(\"change\",this.onInput)}},{\"key\":\"onInput\",\"value\":function onInput(e){var t=this.props,n=t.type,a=t.maxLength,o=t.confirmType,r=t.password,i=t.onInput,onInput=void 0===i?\"\":i,l=t.onChange,c=void 0===l?\"\":l;if(!this.isOnComposition&&!this.onInputExcuted){var s=e.target.value,u=getTrueType(n,o,r);if(this.onInputExcuted=!0,\"number\"===u&&s&&a<=s.length&&(s=s.substring(0,a),e.target.value=s),Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":s}}),!([\"number\",\"file\"].indexOf(u)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{\"key\":\"onFocus\",\"value\":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onFocus&&onFocus(e)}},{\"key\":\"onBlur\",\"value\":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onBlur&&onBlur(e)}},{\"key\":\"onKeyDown\",\"value\":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),n(e))}},{\"key\":\"handleComposition\",\"value\":function handleComposition(e){e.target instanceof HTMLInputElement&&(\"compositionend\"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.props,n=t.className,r=void 0===n?\"\":n,c=t.placeholder,s=t.type,u=void 0===s?\"text\":s,p=t.password,_=t.disabled,d=t.maxLength,m=t.confirmType,f=void 0===m?\"\":m,g=t.focus,h=void 0!==g&&g,y=t.value,v=i()(\"weui-input\",r),b=Object(o.a)(this.props,[\"className\",\"placeholder\",\"disabled\",\"max\",\"onChange\",\"onFocus\",\"onBlur\",\"type\",\"focus\"]);return\"value\"in this.props&&(b.value=function fixControlledValue(e){return void 0===e||null===e?\"\":e}(y)),a.j.createElement(\"input\",l({\"ref\":function ref(t){e.inputRef=t}},b,{\"className\":v,\"placeholder\":c,\"disabled\":_,\"maxlength\":d,\"onInput\":this.onInput,\"onFocus\":this.onFocus,\"onBlur\":this.onBlur,\"autofocus\":h,\"onKeyDown\":this.onKeyDown,\"type\":getTrueType(u,f,p),\"onCompositionStart\":this.handleComposition,\"onCompositionEnd\":this.handleComposition}))}}]),Input}();s.defaultProps={\"type\":\"text\"},t.a=s}}]);","extractedComments":[]}