{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{\"105\":function(e,t,n){\"use strict\";var o=n(1),a=n(10),r=n(3),i=n(342),l=n(347),c=n(81),u=n(8),s=n(9),p=n(15),m=n(106),f=n.n(m),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var d=function(e){function Collect(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Collect);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Collect.__proto__||Object.getPrototypeOf(Collect)).call(this,e));return t.getInfo=function(){u.a.login.shopInfo().then(function(e){e&&t.setState({\"info\":e})})},t.loginOut=function(){var e=t.props.globalStore;u.a.login.logout().then(function(t){t&&(Object(a.d)(\"userInfo\"),c.$ajax.uninjectHeaders(),c.$ajax.injectHeaders(Object(u.b)(!0)),e.setData(\"userInfo\",{}),s.b.bridge.callhandler(\"exit\",{}),Object(s.i)({\"desc\":\"[system] file:cmpt/open-process-title.jsx line:50\"}))})},t.config={\"navigationBarTitleText\":\"\"},t.state={\"info\":{}},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Collect,r[\"a\"].Component),_(Collect,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getInfo()}},{\"key\":\"render\",\"value\":function render(){var e=this.state.info;return o.j.createElement(i.a,{\"className\":f.a.out},o.j.createElement(i.a,{\"className\":f.a.img_box},o.j.createElement(i.a,{\"className\":\"iconfont \"+f.a.icon},\"\"),o.j.createElement(i.a,{\"className\":f.a.right},o.j.createElement(i.a,{\"className\":f.a.name},e.shopName),o.j.createElement(i.a,{\"className\":f.a.lv_box},o.j.createElement(l.a,{\"src\":p.a.shop.lv,\"className\":f.a.img+\" no-loading\"}),o.j.createElement(i.a,{\"className\":f.a.font},\"个人店\"))),o.j.createElement(i.a,{\"className\":f.a.login_out,\"onClick\":this.loginOut},\"退出\")),o.j.createElement(i.a,{\"className\":f.a.step_box},o.j.createElement(i.a,{\"className\":f.a.item+\" \"+(e.accountOpenProcess>=1?f.a.active:null)},\"1.绑定银行卡\"),o.j.createElement(i.a,{\"className\":f.a.item+\" \"+(e.accountOpenProcess>=2?f.a.active:null)},\"2.店铺会员等级\"),o.j.createElement(i.a,{\"className\":f.a.item+\" \"+(e.accountOpenProcess>=3?f.a.active:null)},\"3.开启完成\")),o.j.createElement(i.a,{\"className\":f.a.gray},\"*您需要完善相关信息来开启店铺全部功能\"))}}]),Collect}();t.a=d},\"106\":function(e,t,n){e.exports={\"out\":\"index-module__out___29E5O\",\"img_box\":\"index-module__img_box___2eh2J\",\"icon\":\"index-module__icon___1y7ER\",\"right\":\"index-module__right___2Gfoi\",\"name\":\"index-module__name___YHv_s\",\"lv_box\":\"index-module__lv_box___2K8FT\",\"img\":\"index-module__img___EerwM\",\"font\":\"index-module__font___6B8ot\",\"login_out\":\"index-module__login_out___3gtdJ\",\"step_box\":\"index-module__step_box___3t2KQ\",\"item\":\"index-module__item___2GUuC\",\"active\":\"index-module__active___1FIed\",\"gray\":\"index-module__gray___1Iyzj\"}},\"146\":function(e,t,n){e.exports={\"out\":\"storegrade-module__out___1V8Jt\",\"back\":\"storegrade-module__back___2Fn0V\",\"confirm_style\":\"storegrade-module__confirm_style___1wb2G\",\"confirm_btn\":\"storegrade-module__confirm_btn___26jAI\",\"white_button\":\"storegrade-module__white_button___29BTp\",\"confirm_btn_gray\":\"storegrade-module__confirm_btn_gray___1f_7e\",\"item_box\":\"storegrade-module__item_box___3qUwn\",\"i_title\":\"storegrade-module__i_title___3ffFS\",\"item_content\":\"storegrade-module__item_content___9hXEA\",\"item_line\":\"storegrade-module__item_line___2FDeL\",\"left\":\"storegrade-module__left___3ITKT\",\"img\":\"storegrade-module__img___3BIjD\",\"right\":\"storegrade-module__right___e0_R_\",\"input_wrap\":\"storegrade-module__input_wrap___2b2em\",\"guiz\":\"storegrade-module__guiz___2MfoZ\",\"edit_count\":\"storegrade-module__edit_count___3fUpG\",\"xiey\":\"storegrade-module__xiey___3CFMI\"}},\"66\":function(e,t,n){\"use strict\";n.r(t);var o=n(1),a=n(3),r=n(342),i=n(347),l=n(92),c=n(77),u=n(346),s=n(191),p=n(192),m=n(0),f=n(8),_=n(15),d=n(146),h=n.n(d),g=n(105),b=n(7),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var y,j=function(e){function Storeinfo(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Storeinfo);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Storeinfo.__proto__||Object.getPrototypeOf(Storeinfo)).call(this,e));return t.config={\"navigationBarTitleText\":\"\"},t.state={},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Storeinfo,a[\"a\"].Component),v(Storeinfo,[{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){return o.j.createElement(r.a,{\"className\":h.a.xiey},o.j.createElement(r.a,null,\"1.黄金、钻石会员自购可获得自购返佣，金额同对应级别分享成单金额；\"),o.j.createElement(r.a,null,\"2.总返佣金额最大不可超过钻石会员的分享返佣；\"),o.j.createElement(r.a,null,\"3.存在黄金/钻石会员的邀请人是黄金/钻石的情形时，先计算购买者的自购返佣，剩余部分给到分享者；分享者根据自己等级获得对应返佣，若总返佣未分配完，会分配给店主；\"))}}]),Storeinfo}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{\"value\":n,\"enumerable\":!0,\"configurable\":!0,\"writable\":!0}):e[t]=n,e}var N=Object(c.a)(y=function(e){function Storegrade(e){!function storegrade_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Storegrade);var t=function storegrade_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Storegrade.__proto__||Object.getPrototypeOf(Storegrade)).call(this,e));return t.getInput=function(e,n){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"rate\",r=e.detail.value,i=t.getNum(r,a);t.setState((_defineProperty(o={},n,i),_defineProperty(o,\"moVisible\",!1),o))},t.getNum=function(e,t){var n=e.replace(/[^\\d]/g,\"\");return\"rate\"!==t?(n=n>9999?9999:n)?Number(n)+\"人\":\"\":(n=n>100?100:n)?Number(n)+\"%\":\"\"},t.goNext=function(){var e=t.state,n=e.shopId,o=e.num1,r=e.num2,i=e.rate1,l=e.rate2;if(o=Number(o.replace(/[^\\d.]/g,\"\")),r=Number(r.replace(/[^\\d.]/g,\"\")),i=Number(i.replace(/[^\\d.]/g,\"\")),l=Number(l.replace(/[^\\d.]/g,\"\")),o>=r)m.message.error(\"钻石会员人数必须大于黄金\");else if(i>=l)m.message.error(\"钻石会员返佣必须大于黄金\");else{var c=[{\"commissionRate\":0,\"invitationNum\":0,\"levelName\":\"白银\",\"levelNum\":1,\"shopId\":n},{\"commissionRate\":i,\"invitationNum\":o,\"levelName\":\"黄金\",\"levelNum\":2,\"shopId\":n},{\"commissionRate\":l,\"invitationNum\":r,\"levelName\":\"钻石\",\"levelNum\":3,\"shopId\":n}];f.a.shopInfo.addDispose(c).then(function(e){e&&(\"edit\"===t.$router.params.type?a.a.navigateTo({\"url\":\"/pages/shopworker/shopworker\"}):a.a.navigateTo({\"url\":\"/pages/cometo-admin/cometo-admin\"}))})}},t.noSetDispose=function(){f.a.shopInfo.noSetDispose().then(function(e){e&&a.a.navigateTo({\"url\":\"/pages/cometo-admin/cometo-admin\"})})},t.getInfo=function(){var e=b.a.globalStore.data.userInfo.shopId;e?t.setState({\"shopId\":e},function(){return t.shopMemberConfigDetail(e)}):f.a.login.shopInfo().then(function(e){e&&t.setState({\"shopId\":e.id},function(){return t.shopMemberConfigDetail(e.id)})})},t.shopMemberConfigDetail=function(e){f.a.shopInfo.shopMemberDetail({\"shopId\":e}).then(function(e){e&&((e.list||[]).map(function(t){2===t.levelNum&&(e.rate1=t.commissionRate+\"%\",e.num1=t.invitationNum+\"人\"),3===t.levelNum&&(e.rate2=t.commissionRate+\"%\",e.num2=t.invitationNum+\"人\")}),t.setState(E({},e)))})},t.scroll=function(){window.scroll(0,0)},t.config={\"navigationBarTitleText\":\"店铺会员信息设置\"},t.state={\"directCommission\":.56,\"indirectCommission\":.5,\"indirectNum\":2,\"upgradeAmount\":100,\"shopId\":\"\",\"rate1\":\"\",\"rate2\":\"\",\"num1\":\"\",\"num2\":\"\",\"moVisible\":!1,\"surplusModifyNum\":4},t}return function storegrade_inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Storegrade,a[\"a\"].Component),w(Storegrade,[{\"key\":\"componentWillReact\",\"value\":function componentWillReact(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getInfo()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.state,n=t.rate1,a=t.rate2,c=t.num1,m=t.num2,f=t.moVisible,d=t.surplusModifyNum,b=this.$router.params.type;return o.j.createElement(r.a,{\"className\":h.a.out},o.j.createElement(r.a,{\"className\":h.a.back}),\"edit\"!==b&&o.j.createElement(g.a,null),o.j.createElement(r.a,{\"className\":h.a.item_box},o.j.createElement(r.a,{\"className\":h.a.i_title},\"会员等级\"),o.j.createElement(r.a,{\"className\":h.a.item_content},o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(i.a,{\"src\":_.a.common.baiyin,\"className\":h.a.img+\" no-loading\"}),o.j.createElement(r.a,null,\"白银会员\")),o.j.createElement(r.a,{\"className\":h.a.right},o.j.createElement(r.a,null,\"注册后即为白银会员\"))),o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(i.a,{\"src\":_.a.common.huangjin,\"className\":h.a.img+\" no-loading\"}),o.j.createElement(r.a,null,\"黄金会员\")),o.j.createElement(r.a,{\"className\":h.a.right+\" \"+h.a.person},o.j.createElement(l.a,{\"type\":\"text\",\"placeholder\":\"请输入需邀请满/人\",\"value\":c,\"onBlur\":this.scroll,\"className\":h.a.input_wrap,\"onInput\":function onInput(t){return e.getInput(t,\"num1\",\"num\")}}))),o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(i.a,{\"src\":_.a.common.zuanshi,\"className\":h.a.img+\" no-loading\"}),o.j.createElement(r.a,null,\"钻石会员\")),o.j.createElement(r.a,{\"className\":h.a.right+\" \"+h.a.person},o.j.createElement(l.a,{\"type\":\"text\",\"placeholder\":\"请输入需邀请满/人\",\"value\":m,\"onBlur\":this.scroll,\"className\":h.a.input_wrap,\"onInput\":function onInput(t){return e.getInput(t,\"num2\",\"num\")}}))))),o.j.createElement(r.a,{\"className\":h.a.item_box},o.j.createElement(r.a,{\"className\":h.a.i_title},\"分享返佣比例\"),o.j.createElement(r.a,{\"className\":h.a.item_content},o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(r.a,null,\"白银会员\")),o.j.createElement(r.a,{\"className\":h.a.right},o.j.createElement(r.a,null,\"可邀请用户，无返佣\"))),o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(r.a,null,\"黄金会员分享成单获得\")),o.j.createElement(r.a,{\"className\":h.a.right+\" \"+h.a.rate},o.j.createElement(l.a,{\"type\":\"text\",\"placeholder\":\"请输入%加价利润\",\"value\":n,\"onBlur\":this.scroll,\"className\":h.a.input_wrap,\"onInput\":function onInput(t){return e.getInput(t,\"rate1\")}}))),o.j.createElement(r.a,{\"className\":h.a.item_line},o.j.createElement(r.a,{\"className\":h.a.left},o.j.createElement(r.a,null,\"钻石会员分享成单获得\")),o.j.createElement(r.a,{\"className\":h.a.right+\" \"+h.a.rate},o.j.createElement(l.a,{\"type\":\"text\",\"placeholder\":\"请输入%加价利润\",\"value\":a,\"onBlur\":this.scroll,\"className\":h.a.input_wrap,\"onInput\":function onInput(t){return e.getInput(t,\"rate2\")}}))),o.j.createElement(r.a,{\"className\":h.a.guiz,\"onClick\":function onClick(){e.setState({\"moVisible\":!0})}},\"查看详细佣规则\"))),o.j.createElement(r.a,{\"className\":h.a.edit_count},\"本月还可修改\",d,\"次\"),o.j.createElement(r.a,{\"className\":h.a.confirm_style},\"edit\"!==b&&o.j.createElement(r.a,{\"className\":h.a.white_button+\" \"+h.a.confirm_btn,\"onClick\":this.noSetDispose},\"暂不设置\"),c&&m&&n&&a&&d>0&&o.j.createElement(r.a,{\"className\":h.a.confirm_btn,\"onClick\":this.goNext},\"确定\"),(!c||!m||!n||!a||d<=0)&&o.j.createElement(r.a,{\"className\":h.a.confirm_btn+\" \"+h.a.confirm_btn_gray},\"确定\")),o.j.createElement(u.a,{\"isOpened\":f},o.j.createElement(s.a,null,\"会员分佣规则\"),o.j.createElement(p.a,null,o.j.createElement(j,null))))}}]),Storegrade}())||y;t.default=N},\"77\":function(e,t,n){\"use strict\";var o=n(1),a=n(3),r=n(342),i=n(81),l=n(14),c=n(9),u=n(78),s=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();t.a=function withPage(e){var t=new e({}),n=function(n){function App(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,App);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,e));return n.onBack=function(){a.a.navigateBack()},n.updateShareConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.globalStore,o=globalThis.document.URL,a=(t.data.userInfo||{}).invitationCode||\"\",r=c.a.getURLSearchParams({\"mark\":a});return e=Object.assign({},{\"title\":\"康小铺|京东健康战略合作伙伴\",\"desc\":\"加入康小铺，开启创业之旅\",\"link\":o.indexOf(\"?\")>0?o+\"&\"+r:o+\"?\"+r},e),c.a.updateApp({\"params\":e}),c.a.updateApp({\"type\":\"updateTimelineShareData\",\"params\":e}),e},n.scope=function(){return{\"updateShareConfig\":n.updateShareConfig}},n.config=Object.assign({},t.config),n.updateShareConfig(),n}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(App,a.a.Component),m(App,[{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){\"function\"==typeof this.withPage.componentDidShow&&this.withPage.componentDidShow(this)}},{\"key\":\"render\",\"value\":function render(){var n=this;return o.j.createElement(r.a,{\"className\":s.a.page_container,\"style\":{\"paddingTop\":0}},o.j.createElement(r.a,{\"className\":s.a.navigationBar,\"hidden\":!0},o.j.createElement(r.a,{\"className\":s.a.navigation_back,\"onClick\":this.onBack},\"返回\"),o.j.createElement(r.a,{\"className\":s.a.navigationBar_text},t.config.navigationBarTitleText),o.j.createElement(r.a,{\"hidden\":!i.Common.isType(t.renderNavigationRight,\"function\"),\"className\":s.a.navigation_right},i.Common.isType(t.renderNavigationRight,\"function\")&&t.renderNavigationRight())),o.j.createElement(e,p({\"ref\":function ref(e){e&&(e.logger=c.b.logger.bind(e),n.withPage=e)}},this.props,{\"withPageScope\":this.scope()})))}}]),App}();return Object(l.b)(\"globalStore\")(Object(l.c)(n))}},\"78\":function(e,t,n){e.exports={\"page_container\":\"index-module__page_container___3sM0-\",\"navigationBar\":\"index-module__navigationBar___fibys\",\"navigation_back\":\"index-module__navigation_back___2U0kZ\",\"navigationBar_text\":\"index-module__navigationBar_text___1fBn_\",\"navigation_right\":\"index-module__navigation_right___uhu-i\",\"back_icon\":\"index-module__back_icon___JzgRf\"}},\"84\":function(e,t,n){var o=n(85);\"string\"==typeof o&&(o=[[e.i,o,\"\"]]);var a={\"sourceMap\":!1,\"insertAt\":\"top\",\"hmr\":!0,\"transform\":void 0,\"insertInto\":void 0};n(88)(o,a);o.locals&&(e.exports=o.locals)},\"85\":function(e,t,n){(e.exports=n(87)(!1)).push([e.i,\"input {\\n  display: block;\\n  height: 24px;\\n  text-align: inherit;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\",\"\"])},\"92\":function(e,t,n){\"use strict\";n(86);var o=n(1),a=n(89),r=n(80),i=n.n(r),l=(n(84),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error(\"unexpected type\");return\"search\"===t&&(e=\"search\"),n&&(e=\"password\"),\"digit\"===e&&(e=\"number\"),e}var u=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,o[\"j\"].Component),c(Input,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){\"file\"===this.props.type&&this.inputRef.addEventListener(\"change\",this.onInput)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){\"file\"===this.props.type&&this.inputRef.removeEventListener(\"change\",this.onInput)}},{\"key\":\"onInput\",\"value\":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,a=t.confirmType,r=t.password,i=t.onInput,onInput=void 0===i?\"\":i,l=t.onChange,c=void 0===l?\"\":l;if(!this.isOnComposition&&!this.onInputExcuted){var u=e.target.value,s=getTrueType(n,a,r);if(this.onInputExcuted=!0,\"number\"===s&&u&&o<=u.length&&(u=u.substring(0,o),e.target.value=u),Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":u}}),!([\"number\",\"file\"].indexOf(s)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{\"key\":\"onFocus\",\"value\":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onFocus&&onFocus(e)}},{\"key\":\"onBlur\",\"value\":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onBlur&&onBlur(e)}},{\"key\":\"onKeyDown\",\"value\":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),n(e))}},{\"key\":\"handleComposition\",\"value\":function handleComposition(e){e.target instanceof HTMLInputElement&&(\"compositionend\"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.props,n=t.className,r=void 0===n?\"\":n,c=t.placeholder,u=t.type,s=void 0===u?\"text\":u,p=t.password,m=t.disabled,f=t.maxLength,_=t.confirmType,d=void 0===_?\"\":_,h=t.focus,g=void 0!==h&&h,b=t.value,v=i()(\"weui-input\",r),y=Object(a.a)(this.props,[\"className\",\"placeholder\",\"disabled\",\"max\",\"onChange\",\"onFocus\",\"onBlur\",\"type\",\"focus\"]);return\"value\"in this.props&&(y.value=function fixControlledValue(e){return void 0===e||null===e?\"\":e}(b)),o.j.createElement(\"input\",l({\"ref\":function ref(t){e.inputRef=t}},y,{\"className\":v,\"placeholder\":c,\"disabled\":m,\"maxlength\":f,\"onInput\":this.onInput,\"onFocus\":this.onFocus,\"onBlur\":this.onBlur,\"autofocus\":g,\"onKeyDown\":this.onKeyDown,\"type\":getTrueType(s,d,p),\"onCompositionStart\":this.handleComposition,\"onCompositionEnd\":this.handleComposition}))}}]),Input}();u.defaultProps={\"type\":\"text\"},t.a=u}}]);","extractedComments":[]}