{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{\"116\":function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return f});var o=n(1),a=n(80),r=n.n(a),i=n(83),s=n.n(i),l=n(342),u=n(343),c=n(345),h=n(82),p=n(90),m=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var f=function(t){function AtFloatLayout(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,AtFloatLayout);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(AtFloatLayout.__proto__||Object.getPrototypeOf(AtFloatLayout)).call(this,t));e.handleClose=function(){\"function\"==typeof e.props.onClose&&e.props.onClose()},e.close=function(){e.setState({\"_isOpened\":!1},e.handleClose)},e.handleTouchMove=function(t){t.stopPropagation()};var n=t.isOpened;return e.state={\"_isOpened\":n},e}return function _inherits(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":t,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(AtFloatLayout,h[\"a\"]),m(AtFloatLayout,[{\"key\":\"componentWillReceiveProps\",\"value\":function componentWillReceiveProps(t){var e=t.isOpened;this.props.isOpened!==e&&Object(p.d)(e),e!==this.state._isOpened&&this.setState({\"_isOpened\":e})}},{\"key\":\"render\",\"value\":function render(){var t=this.state._isOpened,e=this.props,n=e.title,a=e.scrollY,i=e.scrollX,s=e.scrollTop,h=e.scrollLeft,p=e.upperThreshold,m=e.lowerThreshold,f=e.scrollWithAnimation,d=r()(\"at-float-layout\",{\"at-float-layout--active\":t},this.props.className);return o.j.createElement(l.a,{\"className\":d,\"onTouchMove\":this.handleTouchMove},o.j.createElement(l.a,{\"onClick\":this.close,\"className\":\"at-float-layout__overlay\"}),o.j.createElement(l.a,{\"className\":\"at-float-layout__container layout\"},n?o.j.createElement(l.a,{\"className\":\"layout-header\"},o.j.createElement(u.a,{\"className\":\"layout-header__title\"},n),o.j.createElement(l.a,{\"className\":\"layout-header__btn-close\",\"onClick\":this.close})):null,o.j.createElement(l.a,{\"className\":\"layout-body\"},o.j.createElement(c.a,{\"scrollY\":a,\"scrollX\":i,\"scrollTop\":s,\"scrollLeft\":h,\"upperThreshold\":p,\"lowerThreshold\":m,\"scrollWithAnimation\":f,\"onScroll\":this.props.onScroll,\"onScrollToLower\":this.props.onScrollToLower,\"onScrollToUpper\":this.props.onScrollToUpper,\"className\":\"layout-body__content\"},this.props.children))))}}]),AtFloatLayout}();f.defaultProps={\"title\":\"\",\"isOpened\":!1,\"scrollY\":!0,\"scrollX\":!1,\"scrollWithAnimation\":!1,\"onClose\":function onClose(){},\"onScroll\":function onScroll(){},\"onScrollToLower\":function onScrollToLower(){},\"onScrollToUpper\":function onScrollToUpper(){}},f.propTypes={\"title\":s.a.string,\"isOpened\":s.a.bool,\"scrollY\":s.a.bool,\"scrollX\":s.a.bool,\"scrollTop\":s.a.number,\"scrollLeft\":s.a.number,\"upperThreshold\":s.a.number,\"lowerThreshold\":s.a.number,\"scrollWithAnimation\":s.a.bool,\"onClose\":s.a.func,\"onScroll\":s.a.func,\"onScrollToLower\":s.a.func,\"onScrollToUpper\":s.a.func}},\"358\":function(t,e,n){\"use strict\";var o=n(1),a=n(80),r=n.n(a),i=n(83),s=n.n(i),l=n(342),u=n(343),c=n(3),h=n(98),p=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function sliceIterator(t,e){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(t){a=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),m=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var f=new function StyleSheet(){var t=this;_classCallCheck(this,StyleSheet),this.$style=null,this.sheet=null,this.appendStyleSheet=function(){t.$style.setAttribute(\"type\",\"text/css\"),t.$style.setAttribute(\"data-type\",\"Taro\"),document.getElementsByTagName(\"head\")[0].appendChild(t.$style),t.sheet=t.$style.sheet,\"insertRule\"in t.sheet||console.warn(\"当前浏览器不支持 stylesheet.insertRule 接口\")},this.add=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null===t.sheet&&t.appendStyleSheet(),t.sheet.insertRule(e,n)},this.$style=document.createElement(\"style\")},d=\"transitionend\",y=\"transform\",v=document.createElement(\"div\");v.style.cssText=\"\\n  -webkit-animation-name: webkit;\\n  -moz-animation-name: moz;\\n  -ms-animation-name: ms;\\n  animation-name: standard;\\n\",\"standard\"===v.style[\"animation-name\"]?(d=\"transitionend\",y=\"transform\"):\"webkit\"===v.style[\"-webkit-animation-name\"]?(d=\"webkitTransionEnd\",y=\"-webkit-transform\"):\"moz\"===v.style[\"-moz-animation-name\"]?(d=\"mozTransionEnd\",y=\"-moz-transform\"):\"ms\"===v.style[\"-ms-animation-name\"]&&(d=\"MSTransionEnd\",y=\"-ms-transform\");var b=0,k=function(){function Animation(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.duration,o=void 0===n?400:n,a=e.delay,r=void 0===a?0:a,i=e.timingFunction,s=void 0===i?\"linear\":i,l=e.transformOrigin,u=void 0===l?\"50% 50% 0\":l,c=e.unit,h=void 0===c?\"px\":c;_classCallCheck(this,Animation),this.rules=[],this.transform=[y+\":\"],this.steps=[],this.animationMap={},this.animationMapCount=0,this.setDefault(o,r,s,u),this.unit=h;var m=\"animation\";this.id=++b,document.body.addEventListener(d,function(e){var n=e.target;null===n.getAttribute(m)&&(m=\"data-animation\");var o=n.getAttribute(m);if(null!==o){var a=o.split(\"__\"),r=p(a,2),i=r[0],s=r[1];if(i===\"taro-h5-poly-fill/\"+t.id+\"/create-animation\"){var l=s.split(\"--\"),u=p(l,2),c=u[0],h=u[1],f=void 0===h?0:h;f<t.animationMap[i+\"__\"+c]-1&&(n.setAttribute(m,i+\"__\"+c+\"--\"+(f+1)),\"animation\"===m&&n.setAttribute(\"data-animation\",i+\"__\"+c+\"--\"+(f+1)))}}})}return m(Animation,[{\"key\":\"transformUnit\",\"value\":function transformUnit(){for(var t=this,e=[],n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.forEach(function(n){e.push(isNaN(n)?n:\"\"+n+t.unit)}),e}},{\"key\":\"setDefault\",\"value\":function setDefault(t,e,n,o){this.DEFAULT={\"duration\":t,\"delay\":e,\"timingFunction\":n,\"transformOrigin\":o}}},{\"key\":\"matrix\",\"value\":function matrix(t,e,n,o,a,r){return this.transform.push(\"matrix(\"+t+\", \"+e+\", \"+n+\", \"+o+\", \"+a+\", \"+r+\")\"),this}},{\"key\":\"matrix3d\",\"value\":function matrix3d(t,e,n,o,a,r,i,s,l,u,c,h,p,m,f,d){return this.transform.push(\"matrix3d(\"+t+\", \"+e+\", \"+n+\", \"+o+\", \"+a+\", \"+r+\", \"+i+\", \"+s+\", \"+l+\", \"+u+\", \"+c+\", \"+h+\", \"+p+\", \"+m+\", \"+f+\", \"+d+\")\"),this}},{\"key\":\"rotate\",\"value\":function rotate(t){return this.transform.push(\"rotate(\"+t+\"deg)\"),this}},{\"key\":\"rotate3d\",\"value\":function rotate3d(t,e,n,o){return this.transform.push(\"rotate3d(\"+t+\", \"+e+\", \"+n+\", \"+o+\"deg)\"),this}},{\"key\":\"rotateX\",\"value\":function rotateX(t){return this.transform.push(\"rotateX(\"+t+\"deg)\"),this}},{\"key\":\"rotateY\",\"value\":function rotateY(t){return this.transform.push(\"rotateY(\"+t+\"deg)\"),this}},{\"key\":\"rotateZ\",\"value\":function rotateZ(t){return this.transform.push(\"rotateZ(\"+t+\"deg)\"),this}},{\"key\":\"scale\",\"value\":function scale(t,e){return this.transform.push(\"scale(\"+t+\", \"+e+\")\"),this}},{\"key\":\"scale3d\",\"value\":function scale3d(t,e,n){return this.transform.push(\"scale3d(\"+t+\", \"+e+\", \"+n+\")\"),this}},{\"key\":\"scaleX\",\"value\":function scaleX(t){return this.transform.push(\"scaleX(\"+t+\")\"),this}},{\"key\":\"scaleY\",\"value\":function scaleY(t){return this.transform.push(\"scaleY(\"+t+\")\"),this}},{\"key\":\"scaleZ\",\"value\":function scaleZ(t){return this.transform.push(\"scaleZ(\"+t+\")\"),this}},{\"key\":\"skew\",\"value\":function skew(t,e){return this.transform.push(\"skew(\"+t+\", \"+e+\")\"),this}},{\"key\":\"skewX\",\"value\":function skewX(t){return this.transform.push(\"skewX(\"+t+\")\"),this}},{\"key\":\"skewY\",\"value\":function skewY(t){return this.transform.push(\"skewY(\"+t+\")\"),this}},{\"key\":\"translate\",\"value\":function translate(t,e){var n=this.transformUnit(t,e),o=p(n,2);return t=o[0],e=o[1],this.transform.push(\"translate(\"+t+\", \"+e+\")\"),this}},{\"key\":\"translate3d\",\"value\":function translate3d(t,e,n){var o=this.transformUnit(t,e,n),a=p(o,3);return t=a[0],e=a[1],n=a[2],this.transform.push(\"translate3d(\"+t+\", \"+e+\", \"+n+\")\"),this}},{\"key\":\"translateX\",\"value\":function translateX(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.transform.push(\"translateX(\"+t+\")\"),this}},{\"key\":\"translateY\",\"value\":function translateY(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.transform.push(\"translateY(\"+t+\")\"),this}},{\"key\":\"translateZ\",\"value\":function translateZ(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.transform.push(\"translateZ(\"+t+\")\"),this}},{\"key\":\"opacity\",\"value\":function opacity(t){return this.rules.push(\"opacity: \"+t),this}},{\"key\":\"backgroundColor\",\"value\":function backgroundColor(t){return this.rules.push(\"background-color: \"+t),this}},{\"key\":\"width\",\"value\":function width(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"width: \"+t),this}},{\"key\":\"height\",\"value\":function height(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"height: \"+t),this}},{\"key\":\"top\",\"value\":function top(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"top: \"+t),this}},{\"key\":\"right\",\"value\":function right(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"right: \"+t),this}},{\"key\":\"bottom\",\"value\":function bottom(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"bottom: \"+t),this}},{\"key\":\"left\",\"value\":function left(t){var e=this.transformUnit(t);return t=p(e,1)[0],this.rules.push(\"left: \"+t),this}},{\"key\":\"step\",\"value\":function step(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.DEFAULT,n=t.duration,o=void 0===n?e.duration:n,a=t.delay,r=void 0===a?e.delay:a,i=t.timingFunction,s=void 0===i?e.timingFunction:i,l=t.transformOrigin,u=void 0===l?e.transformOrigin:l;return this.steps.push([this.rules.join(\";\"),this.transform.join(\" \"),y+\"-origin: \"+u,\"transition: all \"+o+\"ms \"+s+\" \"+r+\"ms\"].filter(function(t){return\"\"!==t&&t!==y+\":\"}).join(\";\")),this.rules=[],this.transform=[y+\":\"],this}},{\"key\":\"createAnimationData\",\"value\":function createAnimationData(){var t=\"taro-h5-poly-fill/\"+this.id+\"/create-animation__\"+this.animationMapCount++;return this.animationMap[t]=this.steps.length,this.steps.forEach(function(e,n){var o=0===n?'[animation=\"'+t+'\"], [data-animation=\"'+t+'\"]':'[animation=\"'+t+\"--\"+n+'\"], [data-animation=\"'+t+\"--\"+n+'\"]';f.add(o+\" { \"+e+\" }\")}),this.steps=[],t}},{\"key\":\"export\",\"value\":function _export(){return this.createAnimationData()}}]),Animation}();function createAnimation(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(k,[null].concat(e)))}var _=n(82);n.d(e,\"a\",function(){return g});var w=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var g=function(t){function AtNoticebar(t){!function noticebar_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,AtNoticebar);var e=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(AtNoticebar.__proto__||Object.getPrototypeOf(AtNoticebar)).call(this,t)),n=\"J_\"+Math.ceil(1e6*Math.random()).toString(36);return e.state={\"show\":!0,\"animElemId\":n,\"animationData\":[{}],\"dura\":15,\"isWEAPP\":c.a.getEnv()===c.a.ENV_TYPE.WEAPP,\"isALIPAY\":c.a.getEnv()===c.a.ENV_TYPE.ALIPAY,\"isWEB\":c.a.getEnv()===c.a.ENV_TYPE.WEB},e}return function _inherits(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{\"constructor\":{\"value\":t,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(AtNoticebar,_[\"a\"]),w(AtNoticebar,[{\"key\":\"onClose\",\"value\":function onClose(t){this.setState({\"show\":!1}),this.props.onClose&&this.props.onClose(t)}},{\"key\":\"onGotoMore\",\"value\":function onGotoMore(t){this.props.onGotoMore&&this.props.onGotoMore(t)}},{\"key\":\"componentWillReceiveProps\",\"value\":function componentWillReceiveProps(){this.timeout||(this.interval&&clearInterval(this.interval),this.initAnimation())}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.props.marquee&&this.initAnimation()}},{\"key\":\"initAnimation\",\"value\":function initAnimation(){var t=this,e=this.state,n=e.isWEAPP,o=e.isALIPAY;this.timeout=setTimeout(function(){if(t.timeout=null,t.state.isWEB){var e=document.querySelector(\".\"+t.state.animElemId);if(!e)return;var a=e.getBoundingClientRect().width/+t.props.speed;t.setState({\"dura\":a})}else if(n||o){(o?Object(h.a)():Object(h.a)().in(t.$scope)).select(\".\"+t.state.animElemId).boundingClientRect().exec(function(e){var n=e[0];if(n){var o=n.width,a=o/+t.props.speed,r=createAnimation({\"duration\":1e3*a,\"timingFunction\":\"linear\"}),i=createAnimation({\"duration\":0,\"timingFunction\":\"linear\"}),s=createAnimation({\"duration\":0,\"timingFunction\":\"linear\"}),l=function animBody(){s.opacity(0).step(),t.setState({\"animationData\":s.export()}),setTimeout(function(){i.translateX(0).step(),t.setState({\"animationData\":i.export()})},300),setTimeout(function(){s.opacity(1).step(),t.setState({\"animationData\":s.export()})},600),setTimeout(function(){r.translateX(-o).step(),t.setState({\"animationData\":r.export()})},900)};l(),t.interval=setInterval(l,1e3*a+1e3)}})}},100)}},{\"key\":\"render\",\"value\":function render(){var t=this.props,e=t.single,n=t.icon,a=t.marquee,i=t.customStyle,s=this.props,c=s.showMore,h=s.close,p=this.state.dura,m=this.props.moreText;e||(c=!1),m||(m=\"查看详情\");var f={},d=[\"at-noticebar__content-inner\"];a&&(h=!1,f[\"animation-duration\"]=p+\"s\",d.push(this.state.animElemId));var y={\"at-noticebar--marquee\":a,\"at-noticebar--weapp\":a&&(this.state.isWEAPP||this.state.isALIPAY),\"at-noticebar--single\":!a&&e},v=[\"at-icon\"];return n&&v.push(\"at-icon-\"+n),this.state.show&&o.j.createElement(l.a,{\"className\":r()([\"at-noticebar\"],y,this.props.className),\"style\":i},h&&o.j.createElement(l.a,{\"className\":\"at-noticebar__close\",\"onClick\":this.onClose.bind(this)},o.j.createElement(u.a,{\"className\":\"at-icon at-icon-close\"})),o.j.createElement(l.a,{\"className\":\"at-noticebar__content\"},n&&o.j.createElement(l.a,{\"className\":\"at-noticebar__content-icon\"},o.j.createElement(u.a,{\"className\":r()(v,v)})),o.j.createElement(l.a,{\"className\":\"at-noticebar__content-text\"},o.j.createElement(l.a,{\"animation\":{\"actions\":this.state.animationData},\"className\":r()(d),\"style\":f},this.props.children))),c&&o.j.createElement(l.a,{\"className\":\"at-noticebar__more\",\"onClick\":this.onGotoMore.bind(this)},o.j.createElement(u.a,{\"className\":\"text\"},m),o.j.createElement(l.a,{\"className\":\"at-noticebar__more-icon\"},o.j.createElement(u.a,{\"className\":\"at-icon at-icon-chevron-right\"}))))}}]),AtNoticebar}();g.defaultProps={\"close\":!1,\"single\":!1,\"marquee\":!1,\"speed\":100,\"moreText\":\"查看详情\",\"showMore\":!1,\"icon\":\"\",\"customStyle\":{},\"onClose\":function onClose(){},\"onGotoMore\":function onGotoMore(){}},g.propTypes={\"close\":s.a.bool,\"single\":s.a.bool,\"marquee\":s.a.bool,\"speed\":s.a.number,\"moreText\":s.a.string,\"showMore\":s.a.bool,\"icon\":s.a.string,\"customStyle\":s.a.oneOfType([s.a.object,s.a.string]),\"onClose\":s.a.func,\"onGotoMore\":s.a.func}}}]);","extractedComments":[]}