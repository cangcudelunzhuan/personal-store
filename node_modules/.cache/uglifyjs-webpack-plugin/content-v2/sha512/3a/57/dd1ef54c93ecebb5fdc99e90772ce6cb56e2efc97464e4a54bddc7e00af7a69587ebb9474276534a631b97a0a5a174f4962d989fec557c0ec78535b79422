{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{\"188\":function(e,t,n){e.exports={\"container\":\"login-module__container___2olho\",\"back\":\"login-module__back___2EdnV\",\"inner\":\"login-module__inner___2QR7w\",\"icon\":\"login-module__icon___1HMqz\",\"store_name\":\"login-module__store_name___1lZjK\",\"store_desc\":\"login-module__store_desc___2H7b3\",\"form_box\":\"login-module__form_box___2uZQ4\",\"info_box\":\"login-module__info_box___20WPb\",\"info_insert\":\"login-module__info_insert___ru23q\",\"info_insert_code\":\"login-module__info_insert_code___2qST2\",\"code\":\"login-module__code___2eQyA\",\"btn_gray\":\"login-module__btn_gray___1Uep2\",\"btn_red\":\"login-module__btn_red___NeYMG\",\"code_box\":\"login-module__code_box___II6bK\",\"time\":\"login-module__time___20F0_\"}},\"32\":function(e,t,n){\"use strict\";n.r(t);var o,r=n(1),i=n(10),a=n(3),s=n(342),c=n(343),l=n(92),u=n(0),p=n(77),f=n(8),_=n(15),d=n(188),m=n.n(d),h=n(17),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),b=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if(\"value\"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};var y=Object(p.a)(o=function(e){function Register(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Register);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Register.__proto__||Object.getPrototypeOf(Register)).call(this,e));return t.formSubmit=function(e){t.setState({\"register\":!1})},t.getTelphone=function(e){t.setState({\"telphone\":e.detail.value})},t.getCode=function(e){var n=e.detail.value.slice(0,6);t.setState({\"mark\":n}),e.target.value=n},t.onCodeBlur=function(e){var n=t.state.mark;t.setState({\"mark\":n.slice(0,6)}),t.scroll(e),e.target.value=n.slice(0,6)},t.sendCode=function(){var e=t.state.telphone;t.setState({\"send\":!0});var n=60,o=setInterval(function(){0==(n-=1)&&(clearInterval(o),t.setState({\"send\":!1})),t.setState({\"second\":n})},1e3);f.a.login.sendCode({\"phone\":e,\"codeType\":20}).then(function(e){!0===e&&u.message.success(\"发送成功\")})},t.goNext=function(){var e=t.state,n=e.telphone,o=e.mark,r=t.props.globalStore;\"13588428548\"===n&&Object(i.f)(\"showWebControl\",{\"showTime\":(new Date).valueOf()});var a={\"phone\":n,\"smsCode\":o};f.a.login.smsLogin(a).then(function(e){t.logger({\"loger\":\"用户已经调用登录接口成功了,准备调用openProcess接口判断去往哪个界面\",\"api_url\":f.a.login.smsLogin.toString(),\"api_req\":JSON.stringify(a),\"api_res\":JSON.stringify(e)}),e&&(r.setData(\"userInfo\",e),u.$ajax.injectHeaders(Object(f.b)()),t.openProcess(e))})},t.openProcess=function(){t.$router.params.mark;var e=t.state.telphone;h.a.jump({\"telphone\":e})},t.scroll=function(){window.scroll(0,0)},t.config={\"navigationBarTitleText\":\"注册\"},t.state={\"telphone\":\"\",\"mark\":\"\",\"send\":!1,\"second\":60,\"TARO_ENV\":\"h5\"},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Register,a[\"a\"].Component),g(Register,[{\"key\":\"render\",\"value\":function render(){var e=this.state,t=e.telphone,n=e.mark,o=e.send,i=e.second,a=/^1\\d{10}$/;return r.j.createElement(s.a,{\"className\":m.a.container},r.j.createElement(s.a,{\"className\":m.a.back}),r.j.createElement(s.a,{\"className\":m.a.inner},r.j.createElement(s.a,{\"className\":m.a.icon,\"style\":{\"backgroundImage\":\"url(\"+_.a.register.logo+\")\"}}),r.j.createElement(s.a,{\"className\":m.a.store_name},\"康小铺店铺登录\"),r.j.createElement(s.a,{\"className\":m.a.store_desc},\"你的专属小店，快来加入吧！\"),r.j.createElement(s.a,{\"className\":m.a.form_box},r.j.createElement(s.a,{\"className\":m.a.info_box},r.j.createElement(c.a,null,\"手机号\"),r.j.createElement(l.a,{\"className\":m.a.info_insert,\"type\":\"number\",\"maxLength\":11,\"name\":\"telphone\",\"onInput\":this.getTelphone,\"onBlur\":this.scroll})),r.j.createElement(s.a,{\"className\":m.a.info_box},r.j.createElement(c.a,null,\"验证码\"),r.j.createElement(s.a,{\"className\":m.a.code_box},r.j.createElement(l.a,{\"className\":m.a.info_insert_code,\"name\":\"mark\",\"type\":\"number\",\"maxLength\":6,\"onBlur\":this.onCodeBlur,\"onInput\":this.getCode}),a.test(t)&&!o&&r.j.createElement(c.a,{\"className\":m.a.mark,\"onClick\":this.sendCode},\"获取验证码\"),o&&r.j.createElement(c.a,{\"className\":m.a.time},i,\"s后重发\"))),(!a.test(t)||n.length<6)&&r.j.createElement(c.a,{\"className\":m.a.btn_gray},\"下一步\"),a.test(t)&&6==n.length&&r.j.createElement(c.a,{\"className\":m.a.btn_red,\"onClick\":this.goNext},\"下一步\"))))}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidMount\",this)&&b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidMount\",this).call(this)}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidShow\",this)&&b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidShow\",this).call(this)}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidHide\",this)&&b(Register.prototype.__proto__||Object.getPrototypeOf(Register.prototype),\"componentDidHide\",this).call(this)}}]),Register}())||o;t.default=y},\"77\":function(e,t,n){\"use strict\";var o=n(1),r=n(3),i=n(342),a=n(81),s=n(14),c=n(9),l=n(78),u=n.n(l),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();t.a=function withPage(e){var t=new e({}),n=function(n){function App(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,App);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,e));return n.onBack=function(){r.a.navigateBack()},n.updateShareConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.globalStore,o=globalThis.document.URL,r=(t.data.userInfo||{}).invitationCode||\"\",i=c.a.getURLSearchParams({\"mark\":r});return e=Object.assign({},{\"title\":\"康小铺|京东健康战略合作伙伴\",\"desc\":\"加入康小铺，开启创业之旅\",\"link\":o.indexOf(\"?\")>0?o+\"&\"+i:o+\"?\"+i},e),c.a.updateApp({\"params\":e}),c.a.updateApp({\"type\":\"updateTimelineShareData\",\"params\":e}),e},n.scope=function(){return{\"updateShareConfig\":n.updateShareConfig}},n.config=Object.assign({},t.config),n.updateShareConfig(),n}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(App,r.a.Component),f(App,[{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){\"function\"==typeof this.withPage.componentDidShow&&this.withPage.componentDidShow(this)}},{\"key\":\"render\",\"value\":function render(){var n=this;return o.j.createElement(i.a,{\"className\":u.a.page_container,\"style\":{\"paddingTop\":0}},o.j.createElement(i.a,{\"className\":u.a.navigationBar,\"hidden\":!0},o.j.createElement(i.a,{\"className\":u.a.navigation_back,\"onClick\":this.onBack},\"返回\"),o.j.createElement(i.a,{\"className\":u.a.navigationBar_text},t.config.navigationBarTitleText),o.j.createElement(i.a,{\"hidden\":!a.Common.isType(t.renderNavigationRight,\"function\"),\"className\":u.a.navigation_right},a.Common.isType(t.renderNavigationRight,\"function\")&&t.renderNavigationRight())),o.j.createElement(e,p({\"ref\":function ref(e){e&&(e.logger=c.b.logger.bind(e),n.withPage=e)}},this.props,{\"withPageScope\":this.scope()})))}}]),App}();return Object(s.b)(\"globalStore\")(Object(s.c)(n))}},\"78\":function(e,t,n){e.exports={\"page_container\":\"index-module__page_container___3sM0-\",\"navigationBar\":\"index-module__navigationBar___fibys\",\"navigation_back\":\"index-module__navigation_back___2U0kZ\",\"navigationBar_text\":\"index-module__navigationBar_text___1fBn_\",\"navigation_right\":\"index-module__navigation_right___uhu-i\",\"back_icon\":\"index-module__back_icon___JzgRf\"}},\"84\":function(e,t,n){var o=n(85);\"string\"==typeof o&&(o=[[e.i,o,\"\"]]);var r={\"sourceMap\":!1,\"insertAt\":\"top\",\"hmr\":!0,\"transform\":void 0,\"insertInto\":void 0};n(88)(o,r);o.locals&&(e.exports=o.locals)},\"85\":function(e,t,n){(e.exports=n(87)(!1)).push([e.i,\"input {\\n  display: block;\\n  height: 24px;\\n  text-align: inherit;\\n  text-overflow: clip;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\",\"\"])},\"92\":function(e,t,n){\"use strict\";n(86);var o=n(1),r=n(89),i=n(80),a=n.n(i),s=(n(84),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error(\"unexpected type\");return\"search\"===t&&(e=\"search\"),n&&(e=\"password\"),\"digit\"===e&&(e=\"number\"),e}var l=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,o[\"j\"].Component),c(Input,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){\"file\"===this.props.type&&this.inputRef.addEventListener(\"change\",this.onInput)}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){\"file\"===this.props.type&&this.inputRef.removeEventListener(\"change\",this.onInput)}},{\"key\":\"onInput\",\"value\":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,r=t.confirmType,i=t.password,a=t.onInput,onInput=void 0===a?\"\":a,s=t.onChange,c=void 0===s?\"\":s;if(!this.isOnComposition&&!this.onInputExcuted){var l=e.target.value,u=getTrueType(n,r,i);if(this.onInputExcuted=!0,\"number\"===u&&l&&o<=l.length&&(l=l.substring(0,o),e.target.value=l),Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":l}}),!([\"number\",\"file\"].indexOf(u)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{\"key\":\"onFocus\",\"value\":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onFocus&&onFocus(e)}},{\"key\":\"onBlur\",\"value\":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),onBlur&&onBlur(e)}},{\"key\":\"onKeyDown\",\"value\":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,\"detail\",{\"enumerable\":!0,\"value\":{\"value\":e.target.value}}),n(e))}},{\"key\":\"handleComposition\",\"value\":function handleComposition(e){e.target instanceof HTMLInputElement&&(\"compositionend\"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.props,n=t.className,i=void 0===n?\"\":n,c=t.placeholder,l=t.type,u=void 0===l?\"text\":l,p=t.password,f=t.disabled,_=t.maxLength,d=t.confirmType,m=void 0===d?\"\":d,h=t.focus,g=void 0!==h&&h,b=t.value,y=a()(\"weui-input\",i),v=Object(r.a)(this.props,[\"className\",\"placeholder\",\"disabled\",\"max\",\"onChange\",\"onFocus\",\"onBlur\",\"type\",\"focus\"]);return\"value\"in this.props&&(v.value=function fixControlledValue(e){return void 0===e||null===e?\"\":e}(b)),o.j.createElement(\"input\",s({\"ref\":function ref(t){e.inputRef=t}},v,{\"className\":y,\"placeholder\":c,\"disabled\":f,\"maxlength\":_,\"onInput\":this.onInput,\"onFocus\":this.onFocus,\"onBlur\":this.onBlur,\"autofocus\":g,\"onKeyDown\":this.onKeyDown,\"type\":getTrueType(u,m,p),\"onCompositionStart\":this.handleComposition,\"onCompositionEnd\":this.handleComposition}))}}]),Input}();l.defaultProps={\"type\":\"text\"},t.a=l}}]);","extractedComments":[]}