import Nerv from "nervjs";
import Taro from "@tarojs/taro-h5";
import { View } from '@tarojs/components';
import classnames from 'classnames';
import styles from "./style/index";

const isSupp = Taro.getEnv() !== Taro.ENV_TYPE.WEB || (document.body.style['line-clamp'] || document.body.style['-webkit-line-clamp']) === '';

class Ellipsis extends Taro.Component {
  render() {
    const {
      children: children
    } = this.props;
    const { count = 1, className } = this.props;

    return count === -1 ? <View className={className}>{children}</View> : <View className={classnames(styles[count === 1 ? 'ellipsi_box' : isSupp ? 'ellipsis_box' : 'ellipsis_wraper'], styles[`count_${count}`], className)}>{children}</View>;
  }

}

export default Ellipsis;