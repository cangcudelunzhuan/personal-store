import Taro, { showToast as _showToast } from "@tarojs/taro-h5";

const isWeb = Taro.getEnv() === Taro.ENV_TYPE.WEB;

const imgHost = 'https://jxkcdn.jingxiaokang.com';

// 小程序不支持远程自定义图标，目前只支持本地路径

const message = {
  warn: content => _showToast(isWeb ? {
    title: content,
    image: `${imgHost}/assets/images/taro_warn.svg`,
    duration: 2500
  } : {
    title: content,
    icon: 'none',
    duration: 2500
  }),
  success: content => _showToast({
    title: content,
    icon: 'success',
    duration: 2500
  }),
  error: content => _showToast(isWeb ? {
    title: content,
    image: `${imgHost}/assets/images/taro_error.svg`,
    duration: 2500
  } : {
    title: content,
    icon: 'none',
    duration: 2500
  }),
  loading: content => _showToast({
    title: content,
    icon: 'loading',
    duration: 2500
  }),
  alert: content => _showToast({
    title: content,
    icon: 'none',
    duration: 2500
  })
};

export default message;